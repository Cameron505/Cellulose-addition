geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=0.6),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=0.8),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=0.8,hjust=1),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=0.8,hjust=0.1),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=0.8,hjust=0.5),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=0.8,hjust=0.8),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=0.9,hjust=0.5),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=0.9,hjust=0.4),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=0.9,hjust=0.6),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=0.9,hjust=0.7),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=0.9,hjust=0.8),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=0.9,hjust=0.9),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=1,hjust=0.9),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
ggplot(EZ3,aes(x=MONTH2, y=value, fill=decade))+
geom_bar(stat='identity',position='dodge')+
ylab(expression(paste("10 cm estimated Soil Temp. °C)")))+
xlab("Month")+
scale_fill_manual(values=cbPalette)+
ggtitle("Historic soil temp. estimates")+
guides(fill=guide_legend(title="Decade"))+
geom_hline(yintercept=10, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-2, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-6, linetype="dashed", color = "red", size=1)+
geom_hline(yintercept=-10, linetype="dashed", color = "red", size=1)+
theme(          legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 20, color = "black"),
axis.title = element_text(size = 21, face = "bold", color = "black"),
axis.text.x = element_text(angle = 45,vjust=1.1,hjust=0.9),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
targets::tar_make()
targets::tar_load_everything()
respiration_processed %>%
mutate(Temp = factor(Temp, levels=c("-6","-2","2","6","10"))) %>%
ggplot(aes(x=JD2, y=val, color=Add))+
stat_summary(fun = mean,geom = "point",size = 2) +
stat_summary(fun.data = mean_se, geom = "errorbar")+
facet_wrap(~Temp, scale="free")+
theme_light()+
scale_colour_manual(values=cbPalette)+
scale_fill_manual(values=cbPalette)+
ylab(expression(paste( "Respiration (",mu,"g-C)")))+
xlab("incubation day")+
labs(color='Addition') +
ggtitle("Average Cumulative Soil Respiration")
library(tidyverse) #for tidy processing and plotting
library(vegan) # for PERMANOVA analysis
library(ggbiplot) #for PCA biplots
library(reshape2)
library(pracma)
library(ggpubr)
library(doBy)
library(lubridate)
# to install {ggbiplot}:
# library(devtools)
# install_github("vqv/ggbiplot")
length2= function (x, na.rm=FALSE) {
if (na.rm) sum(!is.na(x))
else       length(x)
}
# custom ggplot theme
cbPalette <- c("#88CCEE", "#CC6677", "#DDCC77", "#117733", "#332288", "#AA4499", "#44AA99", "#999933", "#882255", "#661100", "#6699CC", "#888888")
theme_CKM <- function() {  # this for all the elements common across plots
theme_bw() %+replace%
theme(          legend.position = "none",
legend.key=element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 12),
legend.key.size = unit(1.5, 'lines'),
legend.background = element_rect(colour = NA),
panel.border = element_rect(color="black",size=1.5, fill = NA),
plot.title = element_text(hjust = 0, size = 25),
axis.text = element_text(size = 30, color = "black"),
axis.title = element_text(size = 30, face = "bold", color = "black"),
# formatting for facets
panel.background = element_blank(),
strip.background = element_rect(colour="white", fill="white"), #facet formatting
panel.spacing.x = unit(1.5, "lines"), #facet spacing for x axis
panel.spacing.y = unit(1.5, "lines"), #facet spacing for x axis
strip.text.x = element_text(size=25, face="bold"), #facet labels
strip.text.y = element_text(size=25, face="bold", angle = 270) #facet labels
)
}
respiration_processed %>%
mutate(Temp = factor(Temp, levels=c("-6","-2","2","6","10"))) %>%
ggplot(aes(x=JD2, y=val, color=Add))+
stat_summary(fun = mean,geom = "point",size = 2) +
stat_summary(fun.data = mean_se, geom = "errorbar")+
facet_wrap(~Temp, scale="free")+
theme_light()+
scale_colour_manual(values=cbPalette)+
scale_fill_manual(values=cbPalette)+
ylab(expression(paste( "Respiration (",mu,"g-C)")))+
xlab("incubation day")+
labs(color='Addition') +
ggtitle("Average Cumulative Soil Respiration")
list("Respiration" = gg_res,
"Average Respiration" = gg_Avgres,
"Cumulative Respiration" = gg_cumres,
"Average Cumulative Respiration" = gg_Avgcumres)
source("code/0-packages.R")
A = read.csv("Data/RES2.csv")
A$Date<- as.Date(A$Date, format="%m/%d/%Y")
cbPalette <- c("#000000", "#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
A<-A[A$ID!='C10-2',]
A<-A[A$ID!='D10-3',]
A<-A[A$ID!='E10-4',]
A<-A[A$ID!='AN2-4',]
A<-A[A$ID!='EN2-4',]
A$csum <- ave(A$Res.2, A$ID, FUN=cumsum)
NGA<-A[A$Temp<=0,]
AA<-A[A$Add!="",]
AA<-AA[AA$Temp>=0,]
ggplot(AA, aes(x=Date, y=csum, color=Add))+
stat_summary(fun.y = mean,geom = "point",lwd=4) +
stat_summary(fun.data = mean_se, geom = "errorbar", lwd=1, width = 0.5)+
facet_wrap(~Temp)+
theme_light()+
scale_colour_manual(values=cbPalette)+
scale_fill_manual(values=cbPalette)+
ylab(expression(paste( " ",mu,"g-C",g^-1," Dry Soil ")))+
xlab("Date")+
theme_CKM()+
ggtitle("Soil Respiration (above freezing)")
A = read.csv("Data/RES2.csv")
A$Date<- as.Date(A$Date, format="%m/%d/%Y")
cbPalette <- c("#000000", "#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
A$csum <- ave(A$Res.2, A$ID, FUN=cumsum)
NGA<-A[A$Temp<=0,]
AA<-A[A$Add!="",]
AA<-AA[AA$Temp>=0,]
ggplot(AA, aes(x=Date, y=csum, color=Add))+
stat_summary(fun.y = mean,geom = "point",lwd=4) +
stat_summary(fun.data = mean_se, geom = "errorbar", lwd=1, width = 0.5)+
facet_wrap(~Temp)+
theme_light()+
scale_colour_manual(values=cbPalette)+
scale_fill_manual(values=cbPalette)+
ylab(expression(paste( " ",mu,"g-C",g^-1," Dry Soil ")))+
xlab("Date")+
theme_CKM()+
ggtitle("Soil Respiration (above freezing)")
targets::tar_make()
targets::tar_make()
targets::tar_make()
